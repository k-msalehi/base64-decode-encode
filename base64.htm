<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Base64 Encode/Decode</title>
</head>
<link rel="stylesheet" href="./w3.css">

<body class="w3-dark-grey">
  <h4 class="w3-center">Base64 Encode/Decode</h4>
  <div class="w3-section w3-content">
    <form>
      <div class="w3-section"><strong>Data:</strong> <textarea rows="8" class="w3-input w3-light-grey w3-border"
          id="txtData"></textarea></div>
      <input name="actionType" checked class="w3-radio" type="radio" id="btnDecode" value="Decode">
      <label for="btnDecode">Decode</label>
      <input name="actionType" class="w3-radio" type="radio" id="btnEncode" value="Encode">
      <label for="btnEncode">Encode</label>

      <p></p>
      <div class="w3-section"><strong>Result:</strong> <textarea rows="10" class="w3-input w3-light-grey w3-border"
          id="txtResult"></textarea></div>
    </form>
  </div>
  <p></p>
  <script language='javascript'>

    document.getElementById('txtData').onkeyup = function () {
      decodeOrEncode();
    }

    document.getElementById('txtData').onchange = function () {
      decodeOrEncode();
    }

    document.getElementById('btnDecode').onchange = function () {
      console.log('d');
      decode();
    }

    document.getElementById('btnEncode').onchange = function () {
      console.log('e');
      encode();
    }

    function decodeOrEncode() {
      if (document.getElementById('btnDecode').checked) {
        decode();
      } else if (document.getElementById('btnEncode').checked) {
        encode();
      }
    }
    function decode() {
      document.getElementById('txtResult').value = '';
      var strDataToDecode = document.getElementById('txtData').value;
      var strDecodedData = atob(strDataToDecode);
      document.getElementById('txtResult').value = strDecodedData;
    }

    function encode() {
      document.getElementById('txtResult').value = '';
      var strDataToEncode = document.getElementById('txtData').value;
      var strEncodedData = btoa(strDataToEncode);
      document.getElementById('txtResult').value = strEncodedData;

    }

  </script>

</body>

</html>